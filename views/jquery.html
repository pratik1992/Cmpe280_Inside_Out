<!DOCTYPE HTML>
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; Charset=UTF-8">
      <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
      <link rel="stylesheet" type="text/css" media="screen"
         href="http://tarruda.github.com/bootstrap-datetimepicker/assets/css/bootstrap-datetimepicker.min.css">
      <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
      <script type="text/javascript"
         src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script> 
      <script type="text/javascript"
         src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
      <script type="text/javascript"
         src="http://tarruda.github.com/bootstrap-datetimepicker/assets/js/bootstrap-datetimepicker.min.js"></script>
      <script type="text/javascript"
         src="http://tarruda.github.com/bootstrap-datetimepicker/assets/js/bootstrap-datetimepicker.pt-BR.js"></script>
      <style>
         form{
         width:50%;
         height: auto;
         padding: 30px;
         margin: auto;
         font-size: 16px;
         border: 3px solid #093969;
         border-radius: 8px;
         }       
      </style>
      <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
      <script type="text/javascript">
         function storeVal(){
             var city = document.getElementById("citiesTB").value;
             var fromDate = document.getElementById("fromDate").value;
             var toDate = document.getElementById("toDate").value;
             var geocoder = new google.maps.Geocoder();
           
             geocoder.geocode( { 'address': city}, function(results, status) {
         
               if (status == google.maps.GeocoderStatus.OK) {
                 latitude = results[0].geometry.location.lat();
                 longitude = results[0].geometry.location.lng();
                   
               } 
             }); 
             
         var userData={"cityname" : city,"latitude" : latitude,"longitude" : longitude,"startdatetime" : JSON.stringify(fromDate),"enddatetime" : JSON.stringify(toDate)};    
         
             
             
             alert(userData.cityname);
             alert(userData.latitude);
             alert(userData.longitude);
                   alert(userData.startdatetime);
                         alert(userData.enddatetime);
         
         }
         
      </script>
      <script type="text/javascript">
         //            // //autocomplete ajax dropdown
                     // var dataList = document.getElementById('cities');
                     // var input = document.getElementById('citiesTB');
                     // var request = new XMLHttpRequest();
         
                     // // Handle state changes for the request.
                     // request.onreadystatechange = function(response) {
                     //   if (request.readyState === 4) {
                     //     if (request.status === 200) {
                     //       // Parse the JSON
                     //       var jsonOptions = JSON.parse(request.responseText);
         
                     //       // Loop over the JSON array.
                     //       jsonOptions.forEach(function(item) {
                     //         // Create a new <option> element.
                     //         var option = document.createElement('option');
                     //         // Set the value using the item in the JSON array.
                     //         option.value = item;
                     //         // Add the <option> element to the <datalist>.
                     //         dataList.appendChild(option);
                     //       });
         
                     //       // Update the placeholder text.
                     //       input.placeholder = "e.g. datalist";
                     //     } else {
                     //       // An error occured :(
                     //        input.placeholder = "Couldn't load datalist options :(";
                     //     }
                     //   }
                     // };
         
                     // // Update the placeholder text.
                     //  input.placeholder = "Loading options...";
         
                     // // Set up and make the request.
                     // request.open('GET', 'cities.json', true); 
                     // request.send();
                         
             
      </script>
   </head>
   <body>
      <form>
         <div class="col-lg-6">
            <div class="input-group">
               <input type="text" class="form-control" list="cities" id="citiesTB" placeholder="Search Cities..">
               <span class="input-group-btn">
               <button class="btn btn-default" type="button" onclick="storeVal()">Go!</button>
               </span>
               <datalist id="cities">
                  <select name="cities">
                     <option value="San Jose">
                     <option value="San Francisco">
                     <option value="Palo Alto">
                     <option value="Pittsburgh">
                     <option value="New York">
                     <option value="New Jersey">
                  </select>
               </datalist>
            </div>
         </div>
         <table>
            <tr>
               <td>
                  <div id="datetimepicker" class="input-append date">
                     <label>From Date</label>
                     <input type="text" id="fromDate"></input>
                     <span class="add-on">
                     <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>
                     </span>
                  </div>
               </td>
               <td>
                  <div id="datetimepicker1" class="input-append date">
                     <label>To Date</label>
                     <input type="text" id="toDate"></input>
                     <span class="add-on">
                     <i data-time-icon="icon-time" data-date-icon="icon-calendar"></i>
                     </span>
                  </div>
               </td>
            </tr>
         </table>
      </form>
      <script type="text/javascript">
         $('#datetimepicker').datetimepicker({
          format: 'yyyy-mm-dd hh:mm:ss',
           // format: 'dd/MM/yyyy hh:mm:ss',
           language: 'pt-EN'
         });
         $('#datetimepicker1').datetimepicker({
           format: 'yyyy-mm-dd hh:mm:ss',
           language: 'pt-EN'
         });
      </script>
   </body>
</html>